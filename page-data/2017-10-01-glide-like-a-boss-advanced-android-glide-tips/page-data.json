{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/2017-10-01-glide-like-a-boss-advanced-android-glide-tips/","result":{"data":{"post":{"__typename":"MdxPost","slug":"/2017-10-01-glide-like-a-boss-advanced-android-glide-tips/","title":"Glide like a Boss — Advanced Android Glide Tips","date":"01.10.2017","tags":[{"name":"android","slug":"android"}],"description":null,"canonicalUrl":"https://elvischidera.com/2017-10-01-glide-like-a-boss-advanced-android-glide-tips/","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Glide like a Boss — Advanced Android Glide Tips\",\n  \"date\": \"2017-10-01T00:00:00.000Z\",\n  \"slug\": \"/2017-10-01-glide-like-a-boss-advanced-android-glide-tips/\",\n  \"canonicalUrl\": \"https://elvischidera.com/2017-10-01-glide-like-a-boss-advanced-android-glide-tips/\",\n  \"banner\": \"./assets/banner.jpeg\",\n  \"tags\": [\"android\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I will be sharing some tips I learned while using the Glide Android Library for a project.\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/725b4deb3b62f6b44639a1c560d35521/da6ee/banner.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"66.25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABefoRRlyv/8QAGhAAAgMBAQAAAAAAAAAAAAAAABEBAhITMf/aAAgBAQABBQK0WzRaR6coaP/EABYRAQEBAAAAAAAAAAAAAAAAAAAREv/aAAgBAwEBPwGMv//EABYRAQEBAAAAAAAAAAAAAAAAAAAREv/aAAgBAgEBPwGtP//EABkQAAEFAAAAAAAAAAAAAAAAABAAAiEiMf/aAAgBAQAGPwKik64f/8QAHBAAAQQDAQAAAAAAAAAAAAAAAAERIUExUXGR/9oACAEBAAE/IZ7I9O6U6Ehrg06Zbcaf/9oADAMBAAIAAwAAABC7z//EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QjC7/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QUuz/AP/EAB0QAQEAAgIDAQAAAAAAAAAAAAERACExUUFhodH/2gAIAQEAAT8Q48h3TaevFxU2mjLexHF38YRaQ62TGpZrRX6NwiWr2vOf/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"banner\",\n    \"title\": \"banner\",\n    \"src\": \"/static/725b4deb3b62f6b44639a1c560d35521/18e3b/banner.jpg\",\n    \"srcSet\": [\"/static/725b4deb3b62f6b44639a1c560d35521/46946/banner.jpg 240w\", \"/static/725b4deb3b62f6b44639a1c560d35521/55489/banner.jpg 480w\", \"/static/725b4deb3b62f6b44639a1c560d35521/18e3b/banner.jpg 960w\", \"/static/725b4deb3b62f6b44639a1c560d35521/da6ee/banner.jpg 1400w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h3\", null, \"1. Wifi Only Mode\"), mdx(\"p\", null, \"Sometimes you might want to download images only when the user device is connected to a WiFi network. Maybe this might be an option in the app that the user can turn on or your strategy for reducing the user data consumption when on mobile data. Whatever your use case is, you can easily prevent Glide from making a network call based on a particular state.\"), mdx(\"p\", null, \"First, you will have to create a custom Glide loader class. What this class will do is to always throw an exception whenever an image load is requested thereby disabling a network call from being made. Cached images will still be shown but new images won\\u2019t be fetched over the network.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-java:title=NetworkDisablingLoader.java\"\n  }), \"import com.bumptech.glide.Priority;\\nimport com.bumptech.glide.load.data.DataFetcher;\\nimport com.bumptech.glide.load.model.stream.StreamModelLoader;\\n    \\nimport java.io.IOException;\\nimport java.io.InputStream;\\n    \\nclass NetworkDisablingLoader implements StreamModelLoader<String> {\\n    \\n    @Override\\n    public DataFetcher<InputStream> getResourceFetcher(final String model, int width, int height) {\\n    \\n        return new DataFetcher<InputStream>() {\\n    \\n            @Override\\n            public InputStream loadData(Priority priority) throws Exception {\\n                throw new IOException(\\\"Forced Glide network failure\\\");\\n            }\\n    \\n            @Override\\n            public void cleanup() { }\\n    \\n            @Override\\n            public String getId() { return model; }\\n    \\n            @Override\\n            public void cancel() { }\\n    \\n        };\\n    \\n    }\\n    \\n}\\n\")), mdx(\"p\", null, \"Next, you will have to attach this loader to Glide whenever you need it. For this, we create a GlideUtils class that we will pass in the required parameters and it will return the correct Glide RequestManager.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-java:title=GlideUtils.java\"\n  }), \"import android.content.Context;\\nimport android.support.annotation.NonNull;\\n    \\nimport com.bumptech.glide.Glide;\\nimport com.bumptech.glide.RequestManager;\\n    \\npublic class GlideUtils {\\n    \\n    public static @NonNull RequestManager getGlide(@NonNull Context context, boolean isOnlyOnWiFi) {\\n        RequestManager request;\\n    \\n        if (isOnlyOnWiFi) {\\n            request = Glide.*with*(context);\\n            request.using(new NetworkDisablingLoader());\\n        } else {\\n            request = Glide.*with*(context);\\n        }\\n    \\n        return request;\\n    }\\n    \\n}\\n\")), mdx(\"p\", null, \"To use this in your app or wherever you want to load images, you just use similar code below\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-java:title=GlideWifiOnlyUsage.java\"\n  }), \"boolean isInWifiOnlyMode = sharedPreference.getBoolean(\\\"is_wifi_only\\\", false);\\n\\nGlideUtils.getGlide(context, isInWifiOnlyMode).load(\\\"http://imageUrl.com\\\").into(imageView);\\n\")), mdx(\"h3\", null, \"2. Image height or width is less when loading for the first time\"), mdx(\"p\", null, \"When using Glide with a placeholder, you might notice that sometimes the height or width of the actual image is less when its loaded for the first time. This usually happens when the aspect ratio of the placeholder image and the actual image are not the same and the crossfade animation is switched on (its switched on by default).\"), mdx(\"p\", null, \"When I first saw this I thought it was due to an implementation error with the Glide library and spent some time trying to fix it. This is a known \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/bumptech/glide/issues/1295\"\n  }), \"issue\"), \" and I am sharing it here to save someone from wasting time trying to fix this.\"), mdx(\"p\", null, \"You have three options to fix this:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"You can disable animations with\\xA0.dontAnimate()\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Force a fade-in animation with\\xA0.animate(R.anim.fade_in)\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Find a placeholder that matches the actual image\\u2019s ratio\"))));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"I will be sharing some tips I learned while using the Glide Android Library for a project. 1. Wifi Only Mode Sometimes you might want to…","timeToRead":1,"banner":{"childImageSharp":{"resize":{"src":"/static/725b4deb3b62f6b44639a1c560d35521/a6c62/banner.jpg"}}}}},"pageContext":{"slug":"/2017-10-01-glide-like-a-boss-advanced-android-glide-tips/","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["3090400250","3090400250","318001574"]}